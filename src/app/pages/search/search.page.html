<ion-header>
  <ion-toolbar>
    <ion-title>
      <span class="glitch" data-text="SEARCH DB">SEARCH DB</span>
    </ion-title>
  </ion-toolbar>
  <ion-toolbar>
    <ion-searchbar 
      placeholder="Type coin name (e.g. pepe)" 
      (ionInput)="handleInput($event)"
      animated="true"
      inputmode="search">
    </ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="cyber-bg">
    <div class="stars"></div>
    <div class="stars2"></div>
  </div>

  <div class="ion-text-center ion-padding" *ngIf="searching">
    <ion-spinner color="tertiary"></ion-spinner>
  </div>

  <ion-list *ngIf="results.length > 0">
    <ion-item *ngFor="let coin of results" button (click)="goToDetail(coin.id)" detail>
      <ion-avatar slot="start">
        <img [src]="coin.large" />
      </ion-avatar>
      <ion-label>
        <h2 style="color: var(--neon-cyan)">{{ coin.name }}</h2>
        <p>Rank: {{ coin.market_cap_rank }}</p>
      </ion-label>
    </ion-item>
  </ion-list>

  <div *ngIf="results.length === 0 && !searching" class="ion-text-center ion-padding" style="opacity: 0.5; margin-top: 50px">
    <ion-icon name="search-outline" style="font-size: 3rem; color: var(--neon-pink); opacity: 0.5;"></ion-icon>
    <p style="font-family: 'Orbitron'">INITIALIZE SEARCH...</p>
  </div>
</ion-content>